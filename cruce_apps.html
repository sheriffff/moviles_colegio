<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,700;1,9..40,400&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'DM Sans', 'Inter', system-ui, -apple-system, sans-serif;
    background: #ffffff;
    display: flex;
    justify-content: center;
    padding: 40px 20px;
    color: #333333;
  }
  .chart-wrapper {
    width: min(900px, 95vw);
    max-width: 900px;
  }
  .chart-title {
    font-size: 28px;
    font-weight: 700;
    color: #333333;
    line-height: 1.3;
    margin-bottom: 6px;
  }
  .chart-subtitle {
    font-size: 18px;
    font-weight: 400;
    color: #4a4a4a;
    line-height: 1.4;
    margin-bottom: 24px;
  }
  #chart {
    width: 100%;
    height: 360px;
  }
  .chart-footnote {
    font-size: 11px;
    color: #888888;
    margin-top: 16px;
    line-height: 1.5;
  }
</style>
</head>
<body>
<div class="chart-wrapper">
  <div class="chart-title">Las familias subestiman el uso de apps de sus hijos</div>
  <div class="chart-subtitle">Porcentaje que usa cada app: lo que dice el alumnado vs lo que creen las familias. Color fuerte = alumnado, color claro = familias</div>
  <div id="chart"></div>
  <div class="chart-footnote"></div>
</div>
<script>
  var chart = echarts.init(document.getElementById('chart'), null, { renderer: 'svg' });
  var option = {
  "tooltip": {
    "trigger": "item",
    "formatter": function(p) { if (p.seriesType === 'custom') return ''; return '<b>' + p.seriesName.split('_')[0] + '</b><br>' + (p.seriesName.includes('_alu') ? 'Alumnado: ' : 'Familias: ') + p.data[0] + '%'; },
    "backgroundColor": "rgba(255,255,255,0.96)",
    "borderColor": "#eee",
    "borderWidth": 1,
    "textStyle": {
      "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
      "color": "#333333",
      "fontSize": 13
    }
  },
  "legend": {
    "show": false,
    "selected": {
      "Todos_line": true,
      "Todos_fam": true,
      "Todos_alu": true,
      "Andel_line": false,
      "Andel_fam": false,
      "Andel_alu": false,
      "Fuenllana_line": false,
      "Fuenllana_fam": false,
      "Fuenllana_alu": false
    }
  },
  "grid": {
    "left": 10,
    "right": 60,
    "top": 10,
    "bottom": 10,
    "containLabel": true
  },
  "xAxis": {
    "type": "value",
    "max": 100,
    "axisLabel": {
      "formatter": "{value}%",
      "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
      "fontSize": 13,
      "color": "#888888"
    },
    "splitLine": {
      "lineStyle": {
        "color": "#f0f0f0",
        "type": "dashed"
      }
    },
    "axisLine": {
      "show": false
    },
    "axisTick": {
      "show": false
    }
  },
  "yAxis": {
    "type": "category",
    "data": [
      "WhatsApp",
      "Instagram",
      "TikTok",
      "YouTube",
      "Videojuegos"
    ],
    "axisLabel": {
      "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
      "fontSize": 13,
      "color": "#4a4a4a"
    },
    "axisLine": {
      "show": false
    },
    "axisTick": {
      "show": false
    }
  },
  "series": [
    {
      "name": "Todos_line",
      "type": "custom",
      "renderItem": function(params, api) {  var d = params.value || api.value();  var start = api.coord([d[0], d[2]]);  var end = api.coord([d[1], d[2]]);  return {    type: 'line',    shape: { x1: start[0], y1: start[1], x2: end[0], y2: end[1] },    style: { stroke: '#2a9d8f', lineWidth: 2, opacity: 0.4 }  };},
      "data": [
        [
          85.8,
          91.3,
          0
        ],
        [
          57.2,
          61.4,
          1
        ],
        [
          54.9,
          52.3,
          2
        ],
        [
          65.7,
          81.9,
          3
        ],
        [
          28.7,
          56.0,
          4
        ]
      ],
      "z": 1
    },
    {
      "name": "Todos_fam",
      "type": "scatter",
      "data": [
        [
          91.3,
          0
        ],
        [
          61.4,
          1
        ],
        [
          52.3,
          2
        ],
        [
          81.9,
          3
        ],
        [
          56.0,
          4
        ]
      ],
      "symbolSize": 14,
      "itemStyle": {
        "color": "rgba(42, 157, 143, 0.35)",
        "borderColor": "#ffffff",
        "borderWidth": 2
      },
      "z": 3,
      "label": {
        "show": true,
        "position": "left",
        "formatter": function(p) { return p.data[0] + '%'; },
        "fontSize": 12,
        "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
        "color": "#888888"
      }
    },
    {
      "name": "Todos_alu",
      "type": "scatter",
      "data": [
        [
          85.8,
          0
        ],
        [
          57.2,
          1
        ],
        [
          54.9,
          2
        ],
        [
          65.7,
          3
        ],
        [
          28.7,
          4
        ]
      ],
      "symbolSize": 14,
      "itemStyle": {
        "color": "#2a9d8f",
        "borderColor": "#ffffff",
        "borderWidth": 2
      },
      "z": 3,
      "label": {
        "show": true,
        "position": "right",
        "formatter": function(p) { return p.data[0] + '%'; },
        "fontSize": 14,
        "fontWeight": 600,
        "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
        "color": "#3a3a3a"
      }
    },
    {
      "name": "Andel_line",
      "type": "custom",
      "renderItem": function(params, api) {  var d = params.value || api.value();  var start = api.coord([d[0], d[2]]);  var end = api.coord([d[1], d[2]]);  return {    type: 'line',    shape: { x1: start[0], y1: start[1], x2: end[0], y2: end[1] },    style: { stroke: '#060786', lineWidth: 2, opacity: 0.4 }  };},
      "data": [
        [
          81.4,
          88.9,
          0
        ],
        [
          53.8,
          59.0,
          1
        ],
        [
          47.6,
          45.8,
          2
        ],
        [
          74.4,
          80.6,
          3
        ],
        [
          46.2,
          82.6,
          4
        ]
      ],
      "z": 1
    },
    {
      "name": "Andel_fam",
      "type": "scatter",
      "data": [
        [
          88.9,
          0
        ],
        [
          59.0,
          1
        ],
        [
          45.8,
          2
        ],
        [
          80.6,
          3
        ],
        [
          82.6,
          4
        ]
      ],
      "symbolSize": 14,
      "itemStyle": {
        "color": "rgba(6, 7, 134, 0.35)",
        "borderColor": "#ffffff",
        "borderWidth": 2
      },
      "z": 3,
      "label": {
        "show": true,
        "position": "left",
        "formatter": function(p) { return p.data[0] + '%'; },
        "fontSize": 12,
        "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
        "color": "#888888"
      }
    },
    {
      "name": "Andel_alu",
      "type": "scatter",
      "data": [
        [
          81.4,
          0
        ],
        [
          53.8,
          1
        ],
        [
          47.6,
          2
        ],
        [
          74.4,
          3
        ],
        [
          46.2,
          4
        ]
      ],
      "symbolSize": 14,
      "itemStyle": {
        "color": "#060786",
        "borderColor": "#ffffff",
        "borderWidth": 2
      },
      "z": 3,
      "label": {
        "show": true,
        "position": "right",
        "formatter": function(p) { return p.data[0] + '%'; },
        "fontSize": 14,
        "fontWeight": 600,
        "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
        "color": "#3a3a3a"
      }
    },
    {
      "name": "Fuenllana_line",
      "type": "custom",
      "renderItem": function(params, api) {  var d = params.value || api.value();  var start = api.coord([d[0], d[2]]);  var end = api.coord([d[1], d[2]]);  return {    type: 'line',    shape: { x1: start[0], y1: start[1], x2: end[0], y2: end[1] },    style: { stroke: '#c60027', lineWidth: 2, opacity: 0.4 }  };},
      "data": [
        [
          89.6,
          93.5,
          0
        ],
        [
          60.2,
          63.6,
          1
        ],
        [
          61.2,
          58.4,
          2
        ],
        [
          58.0,
          83.1,
          3
        ],
        [
          13.3,
          31.2,
          4
        ]
      ],
      "z": 1
    },
    {
      "name": "Fuenllana_fam",
      "type": "scatter",
      "data": [
        [
          93.5,
          0
        ],
        [
          63.6,
          1
        ],
        [
          58.4,
          2
        ],
        [
          83.1,
          3
        ],
        [
          31.2,
          4
        ]
      ],
      "symbolSize": 14,
      "itemStyle": {
        "color": "rgba(198, 0, 39, 0.35)",
        "borderColor": "#ffffff",
        "borderWidth": 2
      },
      "z": 3,
      "label": {
        "show": true,
        "position": "left",
        "formatter": function(p) { return p.data[0] + '%'; },
        "fontSize": 12,
        "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
        "color": "#888888"
      }
    },
    {
      "name": "Fuenllana_alu",
      "type": "scatter",
      "data": [
        [
          89.6,
          0
        ],
        [
          60.2,
          1
        ],
        [
          61.2,
          2
        ],
        [
          58.0,
          3
        ],
        [
          13.3,
          4
        ]
      ],
      "symbolSize": 14,
      "itemStyle": {
        "color": "#c60027",
        "borderColor": "#ffffff",
        "borderWidth": 2
      },
      "z": 3,
      "label": {
        "show": true,
        "position": "right",
        "formatter": function(p) { return p.data[0] + '%'; },
        "fontSize": 14,
        "fontWeight": 600,
        "fontFamily": "'DM Sans', 'Inter', system-ui, -apple-system, sans-serif",
        "color": "#3a3a3a"
      }
    }
  ],
  "animationDuration": 800,
  "animationEasing": "cubicOut"
};
  chart.setOption(option);
  window.addEventListener('resize', function() { chart.resize(); });
</script>
</body>
</html>